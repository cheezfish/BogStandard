<!DOCTYPE html>
<html lang="en">
<head></head>
---
layout: default
---
<h1>Toilet Reviews</h1>

<!-- Map Section -->
<div id="map" style="height: 400px; margin-bottom: 2rem;"></div>

<!-- Cards Section -->
<div class="cards">
    {% for note in site.notes %}
        <div class="card">
            <h2>{{ note.title }}</h2>
            <p><strong>Location:</strong> {{ note.location | join: ', ' }}</p>
            <p><strong>Rating:</strong> {{ note.rating }}/5</p>
            <p><strong>Features:</strong> {{ note.features | join: ', ' }}</p>
            <p>{{ note.content | markdownify }}</p>
        </div>
    {% endfor %}
</div>

<!-- Leaflet.js Map Script -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    // Initialize the map
    const map = L.map('map').setView([40.7128, -74.0060], 13); // Default to NYC

    // Add a tile layer (OpenStreetMap)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    // Add markers for each toilet review
    {% for note in site.notes %}
        L.marker({{ note.location }})
            .addTo(map)
            .bindPopup("{{ note.title }}");
    {% endfor %}
</script>   
</body>
</html>
